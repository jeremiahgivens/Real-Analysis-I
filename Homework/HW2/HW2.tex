\documentclass[10pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[a4paper,%
            left=.75in,right=.75in,top=1in,bottom=1in]{geometry}
\setlength{\headsep}{0.25in}

\usepackage{amsthm}

\usepackage{graphicx}
\usepackage{pgfplots}
            
\usepackage[english]{babel}

\theoremstyle{theorem}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{case}{Case}

\usepackage{amsthm}
\usepackage{lipsum}

\makeatletter
\newcommand{\proofpart}[2]{%
  \par
  \addvspace{\medskipamount}%
  \noindent\emph{Part #1: #2}\par\nobreak
  \addvspace{\smallskipamount}%
  \@afterheading
}
\makeatother

\newcommand\restr[2]{{% we make the whole thing an ordinary symbol
  \left.\kern-\nulldelimiterspace % automatically resize the bar with \right
  #1 % the function
  \vphantom{\big|} % pretend it's a little taller at normal size
  \right|_{#2} % this is the delimiter
  }}

\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{remark}{Remark}

\usepackage{mathtools}
\DeclarePairedDelimiter\bra{\langle}{\rvert}
\DeclarePairedDelimiter\ket{\lvert}{\rangle}
\DeclarePairedDelimiterX\braket[2]{\langle}{\rangle}{#1 \delimsize\vert #2}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{fancyhdr}

\DeclareMathOperator{\interior}{int}

\newcommand{\Tau}{\mathcal{T}}

\newenvironment{amatrix}[1]{%
  \left(\begin{array}{@{}*{#1}{c}|c@{}}
}{%
  \end{array}\right)
}

\usepackage{calligra}
\DeclareMathAlphabet{\mathcalligra}{T1}{calligra}{m}{n}
\DeclareFontShape{T1}{calligra}{m}{n}{<->s*[2.2]callig15}{}

\newcommand{\scripty}[1]{\ensuremath{\mathcalligra{#1}}}

\pagestyle{fancy}
\author{Jeremiah Givens}
\newcommand{\subject}{Real Analysis I}
\newcommand{\Date}{9/2/2021} 
\makeatletter
\rhead{{\small\@author}}
\lhead{{\small\subject}}
\chead{{\large Homework 1}}
\cfoot{}
\rfoot{\thepage}
\lfoot{\today}

\renewcommand{\theequation}{\arabic{equation}}

\begin{document}
\section*{Problem 1}
\begin{theorem}
If $E \subseteq [0, 1]$ has measure $1$, then $E$ is dense in $[0, 1]$.
\end{theorem}
\subsection*{Solution}
\begin{proof}
Suppose $E$ is not dense in $[0, 1]$. Then, 
\begin{align*}
(\exists x \in [0, 1])(\exists \epsilon > 0)(B(x; \epsilon) \cap E = \emptyset).
\end{align*}
Fix this $x$ and $\epsilon$. Then,
\begin{align*}
E \subseteq [0, 1] \cap B(x; \epsilon)^C &\implies |E|_e \leq |[0, 1] \cap B(x; \epsilon)^C |_e\\
&\implies |E|_e \leq 1 - \epsilon\\
&\implies |E|_e < 1,
\end{align*}
and we have proven the contrapositive. 
\end{proof}

\section*{Problem 2}
Let $F$ be a proper closed subset in $[0, 1]$. Show that $|F| < 1$.

\subsection*{Solution}
\begin{proof}
Since $F$ is a proper subset in $[0, 1]$, 
\begin{align*}
(\exists x \in [0, 1])(x \not\in F).
\end{align*}
Fix this $x$. Since $F$ is closed,  $x$ is not a boundary point of $F$, which means
\begin{align*}
(\exists \epsilon > 0)(B(x; \epsilon) \cap F = \emptyset) &\implies (\exists \epsilon > 0)(F \subseteq ([0,1] - B(x; \epsilon))).
\end{align*}
Fixing this $\epsilon$, we have 
\begin{align*}
|F| &\leq |[0,1] - B(x; \epsilon)|\\
&\leq 1 - \epsilon\\
&< 1,
\end{align*}
and our proof is complete.
\end{proof}

\section*{Problem 3}
\begin{theorem}
Let $E_k \subseteq [0, 1]$ be measurable with $\sum_{k=1}^N |E_k| > N - 1$. Then 
\begin{align*}
| \bigcap_{k=1}^N E_k| > 0.
\end{align*}
\end{theorem}
\begin{proof}
We have 
\begin{align*}
[0, 1] =  \bigcap_{k=1}^N E_k + [0, 1]\backslash \bigcap_{k=1}^N E_k &\implies 1 = \left|\bigcap_{k=1}^N E_k \right| + \left|[0, 1]\backslash \bigcap_{k=1}^N E_k \right|.
\end{align*}
Thus, it will suffice to show that 
\begin{align*}
\left|[0, 1]\backslash \bigcap_{k=1}^N E_k \right| < 1.
\end{align*}
We have
\begin{align*}
\left|[0, 1]\backslash \bigcap_{k=1}^N E_k \right| &= \left|[0, 1]\cap \left( \bigcap_{k=1}^N E_k \right)^c \right|\\
&= \left|[0, 1]\cap \bigcup_{k=1}^N E^c_k  \right| &&\text{De Morgan' Laws}\\
&= \left| \bigcup_{k=1}^N [0, 1] \cap E^c_k  \right|\\
&\leq \sum_{k=1}^N |[0, 1] \cap E^c_k| &&\text{Subadditivity}\\
&= \sum_{k=1}^N 1 - |E_k|\\
&= N - \sum_{k=1}^N |E_k|\\
&< N - (N - 1) &&\text{By initial assumption}\\
&= 1.
\end{align*}
With this, our proof is complete.
\end{proof}

\section*{Problem 4}
\begin{theorem}
If $E_1$ and $E_2$ are measurable, then
\begin{align*}
|E_1 \cup E_2| + |E_1 \cap E_2| = |E_1| + |E_2|.
\end{align*}
\end{theorem}

\begin{proof}
We will assume that $E_1$ and $E_2$ have finite measure, because otherwise the proof is trivial. We can write $E_1$ as the union of two disjoint measurable sets
\begin{align*}
E_1 = (E_1 - E_2) \cup (E_1 \cap E_2),
\end{align*}
and additivity gives us
\begin{align}
|E_1| = |E_1 - E_2| + |E_1 \cap E_2|.
\end{align}
By symmetry, we also have
\begin{align}
|E_2| = |E_2 - E_1| + |E_1 \cap E_2|.
\end{align}
Now, in a similar fashion, we can write $E_1 \cup E_2$ as a union of disjoint measurable sets
\begin{align*}
E_1 \cup E_2 = (E_1 - E_2) \cup (E_1 \cap E_2) \cup (E_2 - E_1).
\end{align*}
Then
\begin{align*}
|E_1 \cup E_2| &= |(E_1 - E_2) \cup (E_1 \cap E_2) \cup (E_2 - E_1)|\\
&= |E_1 - E_2| + |E_1 \cap E_2| + |E_2 - E_1|\\
&= |E_1| - |E_1 \cap E_2| + |E_1 \cap E_2| + |E_2| - |E_1 \cap E_2| &&\text{by (1) and (2)}\\
&= |E_1| + |E_2| - |E_1 \cap E_2| .
\end{align*}
Adding $|E_1 \cap E_2|$ to both sides gives us the desired result. 
\end{proof}

\section*{Problem 5}
\begin{theorem}
Suppose that the measurable sets $A_1, A_2, \dotsc$ are "almost disjoint" in the sense that $|A_i \cap A_j| = 0$ if $ i \not = j$. Then,
\begin{align*}
\left| \bigcup_{k=1}^\infty A_k \right| &= \sum_{k=1}^\infty |A_k|.
\end{align*}
\end{theorem}

\subsection*{Solution}
\begin{proof}
We will proceed by induction.  As the result is trivial if any of these sets have infinite measure, we will assume they all have finite measure. Using the results of the previous problem, we have
\begin{align*}
A_1 \cup A_2 &= |A_1| + |A_2| - |A_1 \cap A_2|\\
&= |A_1| + |A_2|,
\end{align*}
and the base case holds.

Now suppose that for some $N > 1$ we have 
\begin{align}
\left| \bigcup_{k=1}^N A_k \right| &= \sum_{k=1}^N |A_k|.
\end{align}
We have 
\begin{align*}
\left| \bigcup_{k=1}^{N+1} A_k \right| &= \left| A_{N+1} \cup \left(\bigcup_{k=1}^N A_k \right) \right|\\
&= |A_{N+1}| + \left| \bigcup_{k=1}^N A_k \right| -   \left| A_{N+1} \cap \left(\bigcup_{k=1}^N A_k \right) \right| &&\text{By results of previous problem}\\
&= |A_{N+1}| + \sum_{k=1}^N |A_k| - \left| \bigcup_{k=1}^N A_k \cap A_{N+1} \right|  &&\text{By (3)}\\
&=\sum_{k=1}^{N + 1} |A_k| - \left| \bigcup_{k=1}^N A_k \cap A_{N+1} \right| \\
&= \sum_{k=1}^{N + 1} |A_k|. &&\text{Countable union of sets of measure zero}
\end{align*}
Since this is true for all $N > 1$, we can conclude 
\begin{align*}
\left| \bigcup_{k=1}^\infty A_k \right| &= \sum_{k=1}^\infty |A_k|,
\end{align*}
and our proof is complete.
\end{proof}

\section*{Problem 6}
Define the inner measure of $E$ by $|E|_i = \sup|F|$, where the supremum is taken over all closed subsets $F$ of $E$. Show that (i) $|E|_i \leq |E|_e$,  and (ii) if $|E|_e < + \infty$, then $E$ is measurable if and only if $|E|_i = |E|_e$.
\begin{proof}
\proofpart{(i)}{} Suppose, for sake of contradiction, that $|E|_i > |E|_e$. Define $\delta > 0$ by $\delta = |E|_i - |E|_e$. By definition of supremum, there exists a closed $F \subseteq E$ such that 
\begin{align*}
|F| > |E|_i - \delta.
\end{align*}
Then, we have $|F| > |E|_e$, which contradicts the monotonicity of the outer measure. Thus, we have proven (i).

\proofpart{(ii)}{} Suppose that $|E|_e < +\infty$. By Lemma 3.22, we have that $E$ is measurable if and only if for every $\epsilon > 0$, there exists a closed $F \subseteq E$ such that $|E - F| < \epsilon$. 

Suppose first that $E$ is measurable. Let $\epsilon > 0$. Then, by Lemma 3.22, there exists a closed $F \subseteq E$ such that $|E - F| < \epsilon$. Furthermore, since $E$ and $F$ are measurable, we know that $E - F$ is also measurable,  and
\begin{align*}
|E| &= |E - F| + |F|\\
&< \epsilon + |F|.
\end{align*}
Since $\epsilon$ was arbitrary, we can conclude that $|E| = |E|_e \leq F$ for every closed $F \subseteq E$. Thus, by definition of supremum, we can conclude that $|E|_e \leq |E|_i$. Combining this with the result of part (i), we have $|E|_e = |E|_i$.

Now suppose that $|E|_e = |E|_i$, and let $\epsilon >0$. Then, by definition of supremum, there exists a closed $F \subseteq E$ such that $|E|_e - |F| < \epsilon$.  Now, using the fact that $F$ is measurable, the Caratheodory property tells us that
\begin{align*}
|E|_e &= |E \cap F|_e + |E - F|_e\\
&= |F| + |E - F|_e &&\text{Since } F \subseteq E\\
|E - F|_e &= |F| - |E|_e&&\text{We can do this because all three terms are finite.}\\
&< \epsilon.
\end{align*}
Thus, by Lemma 3.22, $E$ is measurable.
\end{proof}

\section*{Problem 8}
We will prove a more general statement, but we will first need some simple Lemmas.
\begin{lemma}
Let $f: \mathbb{R}^m \to \mathbb{R}^n$, and let $E \in \mathbb{R}^n$. Then $f^{-1}(E)^c = f^{-1}(E^c)$.
\end{lemma}

\begin{proof}
We have 
\begin{align*}
x \in f^{-1}(E)^c &\iff x \not\in f^{-1}(E)\\
&\iff f(x) \not \in E\\
&\iff f(x) \in E^c\\
&\iff x \in f^{-1}(E^c).
\end{align*}
Thus,  $f^{-1}(E)^c = f^{-1}(E^c)$.
\end{proof}

\begin{lemma}
Let $f: \mathbb{R}^m \to \mathbb{R}^n$, and let $E_2, E_2 \in \mathbb{R}^n$. Then $f^{-1}(E_1 \cup E_2) = f^{-1}(E_1) \cup f^{-1}(E_2)$.
\end{lemma}

\begin{proof}
Jumping right in, we see
\begin{align*}
x \in f^{-1}(E_1 \cup E_2) &\iff f(x) \in E_1 \cup E_2\\
&\iff f(x) \in E_1 \lor f(x) \in E_2\\
&\iff x \in f^{-1}(E_1) \lor x \in f^{-1}(E_2)\\
&\iff x \in f^{-1}(E_1) \cup \in f^{-1}(E_2).
\end{align*}
With this, we have proven that $f^{-1}(E_1 \cup E_2) = f^{-1}(E_1) \cup f^{-1}(E_2)$.
\end{proof}

\begin{theorem}
Let $f: \mathbb{R}^m \to \mathbb{R}^n$ be continuous. Then the inverse image $f^{-1}(B)$ of a Borel set $B$ is a Borel set.
\end{theorem}

\begin{proof}
Let $S = \{E \in \mathbb{R}^n| f^{-1}(E) \text{ is a Borel set} \}$.  Let $\Tau_m$ and $\Tau_n$ be the topologies on $\mathbb{R}^m$ and $\mathbb{R}^n$ respectively. 
We have
\begin{align*}
E \in \Tau_n &\implies f^{-1}(E) \in \Tau_m &&\text{By definition of continuity}\\
&\implies E \in S.
\end{align*}
Since this is true for all $E \in \Tau_n$, we have that $\Tau_n \subseteq S$. Thus, all we have to do is show that $S$ is a sigma algebra, and our job will be complete.

We will start by showing that $S$ is closed under complements. Let $\Sigma$ be the Borel sets in $\mathbb{R}^m$. We have
\begin{align*}
E \in S &\implies f^{-1}(E) \in \Sigma\\
&\implies f^{-1}(E)^c \in \Sigma &&\text{Since } \Sigma \text{ is a sigma algebra}\\
&\implies f^{-1}(E^c) \in \Sigma &&\text{By Lemma 1}\\
&\implies E^c \in S.
\end{align*}
Thus, we have shown that $S$ is closed under complements.

To show that $S$ is closed under countable union, we will proceed by induction. Let $\{E_k\}_{k=1}^\infty \subset S$.  For the base case, Lemma 2 immediately yields
\begin{align*}
f^{-1}(E_1 \cup E_2) = f^{-1}(E_1) \cup f^{-1}(E_2) &\implies f^{-1}(E_1 \cup E_2) \in \Sigma &&\text{Since } \Sigma \text{ is a sigma algebra}\\
&\implies E_1 \cup E_2 \in S.
\end{align*}
Now, suppose for some $N \geq 2$, that 
\begin{align}
\bigcup_{k =1}^N E_k \in S.
\end{align}
We have
\begin{align*}
\bigcup_{k =1}^{N+1} E_k &= E_{N+1} \cup \left( \bigcup_{k =1}^N E_k \right).
\end{align*}
Then, since this is a union of two sets in $S$, it follows from the base case that 
\begin{align*}
\bigcup_{k =1}^{N + 1} E_k \in S.
\end{align*}
Since this is true for any $N$, the inductive principle tells us that 
\begin{align*}
\bigcup_{k =1}^{\infty} E_k \in S.
\end{align*}

Therefore, we have shown that $S$ is a sigma algebra containing the open sets. Since the Borel sigma algebra is the smallest sigma algebra containing the open sets, we have that $\Sigma \subseteq S$, and we can conclude that the inverse image $f^{-1}(B)$ of a Borel set $B$ is a Borel set.
\end{proof}

\section*{Problem 9}
\begin{theorem}
Let $E \in \mathbb{R}^n$ with $|E|_e > 0$, and let $0 < \theta < 1$. Show that there is a set $E_\theta \subseteq E$ with $|E_\theta|_e = \theta |E|_e$ and that $E_\theta$ can be chosen to be measurable if $E$ is measurable.
\end{theorem}

\begin{proof}
Define $Q(r) \subseteq \mathbb{R}^n$ to be the closed interval with edge length $r$ centered at the origin. With this, define the function $f:[0, \infty) \to \mathbb{R}$ by $f(r) = |Q(r) \cap E|_e$. We will show that this function is continuous.

To show that f is continuous, we first let $0 \leq r \leq r_0 < \infty$. Then
\begin{align*}
f(r_0) &= |Q(r_0) \cap E|_e\\
&= |(Q(r_0) \cap E) \cap Q(r)|_e + |(Q(r_0) \cap E) - Q(r)|_e &&\text{Since } Q(r) \text{ is measurable}\\
&= |Q(r) \cap E|_e + |E\cap(Q(r_0) - Q(r))|_e &&\text{Since } Q(r) \subseteq Q(r_0)\\
&\leq f(r) + |Q(r_0) - Q(r)| &&\text{By monotonicity of outer measure}\\
&= f(r) + r_0^n - r^n\\
f(r_0) - f(r) &\leq r_0^n - r^n.
\end{align*}
Thus, by symmetry, we have that for all $r, r_0 \in (0, \infty)$
\begin{align*}
|f(r_0) - f(r)| &\leq |r_0^n - r^n|.
\end{align*}

Now, let $\epsilon > 0$ and let $r_0 \in (0, \infty)$. We want to find a bound on $r \in (0, \infty)$ such that $|f(r_0) - f(r)| < \epsilon$. Suppose first that $r \leq r_0$. Then
\begin{align*}
|r_0^n - r^n| < \epsilon &\implies r_0^n - r^n < \epsilon\\
&\implies r^n > r_0^n - \epsilon\\
&\implies r > (r_0^n - \epsilon)^{1/n}.
\end{align*}
In a similar manner, if $r \geq r_0$, we have
\begin{align*}
|r_0^n - r^n| < \epsilon &\implies r^n - r_0^n < \epsilon\\
&\implies r^n < \epsilon + r_0^n\\
&\implies r < (r_0^n + \epsilon)^{1/n}.
\end{align*}
Thus,we have
\begin{align*}
(\forall r_0 \in (0, \infty))(\forall \epsilon > 0)(\forall r \in (0, \infty))(|r - r_0| < \min \{(r_0^n - \epsilon)^{1/n}, (r_0^n + \epsilon)^{1/n} \} \implies |f(r_0) - f(r)| < \epsilon),
\end{align*}
and we have shown that $f$ is continuous.

Now, clearly $f(0) = 0$. Since this theorem is trivially true if $|E|_e = \infty$, we will suppose that $|E|_e < \infty$. Then, there exists countably many intervals $\{I_k\}$ that cover $E$ such that
\begin{align*}
\sum_{k=1}^\infty |I_k| < |E|_e + \epsilon.
\end{align*}
Thus, we have that there exists some $N$ such that 
\begin{align*}
\sum_{k=1}^N |I_k| > |E|_e - \epsilon.
\end{align*}
Choose $r$ large enough that $I_k \subseteq Q(r)$ for $k \in \{1, 2, ..., N\}$.
\end{proof}
By the caratheodory property, we have
\begin{align*}
|E|_e &= |E \cap \bigcup_{k=1}^N I_k|_e + |E - \bigcup_{k=1}^N I_k |_e\\
&\leq |E \cap \bigcup_{k=1}^N I_k|_e + |\bigcup_{k=N+1}^\infty I_k |_e\\
&\leq |E \cap \bigcup_{k=1}^N I_k|_e + \sum_{k=N+1}^\infty |I_k|\\
&\leq |E \cap \bigcup_{k=1}^N I_k|_e + 2 \epsilon\\
|E|_e - 2 \epsilon &\leq |E \cap \bigcup_{k=1}^N I_k|_e\\
&\leq |E \cap Q(r)|_e &&\text{Since } \bigcup_{k=1}^N I_k \subseteq Q(r)\\
&= f(r).
\end{align*}
If we let $\epsilon = \frac{|E|_e(1 - \theta)}{2}$, we can see that there exists an $r \in [0, \infty)$ such that $f(r) \geq \theta |E|_e$.Thus, by the intermediate value theorem, there exists an $r \in [0, \infty)$ such that $|E \cap Q(r)|_e = \theta |E|_e$, as desired. Furthermore, if $E$ is measurable, so is $E \cap Q(r)$, and our proof is complete.

\section*{Problem 10}
\begin{theorem}
Let $E$ and $Z$ be the sets in $\mathbb{R}^n$ and $|Z| = 0$. If $E \cup Z$ is measurable, show that $E$ is measurable and that $|E|$ = $|E \cup Z|$.
\end{theorem}

\begin{proof}
Since $Z$ is measurable, the Caratheodory property tells us
\begin{align*}
|E \cup Z| &= |(E \cup Z) \cap Z| + |E \cup Z - Z|_e\\
&= |Z| + |E|_e\\
&= |E|_e.
\end{align*}
\end{proof}
\end{document}