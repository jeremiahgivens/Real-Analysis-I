\documentclass[10pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[a4paper,%
            left=.75in,right=.75in,top=1in,bottom=1in]{geometry}
\setlength{\headsep}{0.25in}

\usepackage{amsthm}

\usepackage{graphicx}
\usepackage{pgfplots}
            
\usepackage[english]{babel}

\theoremstyle{theorem}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{case}{Case}

\usepackage{amsthm}
\usepackage{lipsum}
\usepackage{tikz}

\makeatletter
\newcommand{\proofpart}[2]{%
  \par
  \addvspace{\medskipamount}%
  \noindent\emph{Part #1: #2}\par\nobreak
  \addvspace{\smallskipamount}%
  \@afterheading
}
\makeatother

\newcommand\restr[2]{{% we make the whole thing an ordinary symbol
  \left.\kern-\nulldelimiterspace % automatically resize the bar with \right
  #1 % the function
  \vphantom{\big|} % pretend it's a little taller at normal size
  \right|_{#2} % this is the delimiter
  }}

\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{remark}{Remark}

\usepackage{mathtools}
\DeclarePairedDelimiter\bra{\langle}{\rvert}
\DeclarePairedDelimiter\ket{\lvert}{\rangle}
\DeclarePairedDelimiterX\braket[2]{\langle}{\rangle}{#1 \delimsize\vert #2}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{fancyhdr}
\usepackage{tkz-euclide}

\DeclareMathOperator{\interior}{int}

\newcommand{\Tau}{\mathcal{T}}

\newenvironment{amatrix}[1]{%
  \left(\begin{array}{@{}*{#1}{c}|c@{}}
}{%
  \end{array}\right)
}

\usepackage{calligra}
\DeclareMathAlphabet{\mathcalligra}{T1}{calligra}{m}{n}
\DeclareFontShape{T1}{calligra}{m}{n}{<->s*[2.2]callig15}{}

\newcommand{\scripty}[1]{\ensuremath{\mathcalligra{#1}}}

\pagestyle{fancy}
\author{Jeremiah Givens}
\newcommand{\subject}{Real Analysis II}
\newcommand{\Date}{9/2/2021} 
\makeatletter
\rhead{{\small\@author}}
\lhead{{\small\subject}}
\chead{{\large Homework 1}}
\cfoot{}
\rfoot{\thepage}
\lfoot{\today}

\renewcommand{\theequation}{\arabic{equation}}

\begin{document}
\section*{Problem 1.6}
\begin{theorem}
Let $\alpha > 0$. Then $f(x) = x^\alpha$ is absolutely continuous on every subinterval $[a, b] \subseteq [0, \infty)$.
\end{theorem}

\subsection*{Solution}
\begin{proof}
We have that $f$ is differentiable on $(0, \infty)$ with derivative
\begin{align*}
f'(x) = \alpha x^{\alpha - 1}.
\end{align*}
Thus, $f$ is differentiable almost everywhere on $[0, \infty)$. Now, let $[a, b] \subseteq [0, \infty)$. Since $f'$ is continuous a.e. on $[a, b]$, $f'$ is integrable on $[a, b]$. Furthermore, we have for any $x \in [a, b]$,
\begin{align*}
\int_a^x f'(x) dx &= \int_a^x \alpha x^{\alpha - 1} dx\\
&= \left. \alpha x^{\alpha} \right|_a^x\\
&= b^\alpha - x^\alpha\\
&= f(x) - f(a).
\end{align*}
Thus, by theorem 7.29 in our textbook, we have that $f$ is absolutely continuous on any subinterval of $[0, \infty)$.
\end{proof}

\section*{Problem 1.7}
\begin{theorem}
A function $f$ is absolutely continuous on $[a, b]$ if and only if given $\epsilon > 0$, there exists $\delta > 0$ such that $|\sum [f(b_i) - f(a_i)]| < \epsilon$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$.
\end{theorem}

\subsection*{Solution}
\begin{proof}
Suppose $f$ is absolutely continuous on $[a, b]$, and let $\epsilon > 0$. Since $f$ is absolutely continuous, there exists a $\delta > 0$ such that $\sum |[f(b_i) - f(a_i)]| < \epsilon$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Thus, if we let $\{[a_i, b_i]\}$ be a set of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$, we have
\begin{align*}
\epsilon &> \sum |[f(b_i) - f(a_i)]|\\
&\geq |\sum [f(b_i) - f(a_i)]|, &&\text{Basic property of absolute value}
\end{align*}
and we have proven the forward direction.

Now, suppose that if we are given $\epsilon > 0$, there exists $\delta > 0$ such that $|\sum [f(b_i) - f(a_i)]| < \epsilon$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Let $\epsilon > 0$, and choose $\delta > 0$ such that $|\sum [f(b_i) - f(a_i)]| < \frac{\epsilon}{2}$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Let $\{[a_i, b_i]\}$ be a set of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. We have
\begin{align*}
\sum_{i \in \{i: f(b_i) \geq f(a_i)\}} (b_i - a_i) < \delta,
\end{align*}
which means that 
\begin{align*}
\frac{\epsilon}{2} &> \left|\sum_ {i \in \{i: f(b_i) \geq f(a_i)\}}[f(b_i) - f(a_i)]\right|\\
&= \sum_{i \in \{i: f(b_i) \geq f(a_i)\}}|f(b_i) - f(a_i)|.
\end{align*}
Similarly, we have
\begin{align*}
\sum_{i \in \{i: f(b_i) < f(a_i)\}} (b_i - a_i) < \delta,
\end{align*}
which implies
\begin{align*}
\frac{\epsilon}{2} &> \left|\sum_{i \in \{i: f(b_i) < f(a_i)\}}[f(b_i) - f(a_i)]\right|\\
&= \sum_ {i \in \{i: f(b_i) < f(a_i)\}}|f(b_i) - f(a_i)|.
\end{align*}
Finally, we have
\begin{align*}
\sum_ {i}|f(b_i) - f(a_i)| &= \sum_ {i \in \{i: f(b_i) < f(a_i)\}}|f(b_i) - f(a_i)| + \sum_ {i \in \{i: f(b_i) \geq f(a_i)\}}|f(b_i) - f(a_i)|\\
&\leq \frac{\epsilon}{2} + \frac{\epsilon}{2}\\
&= \epsilon,
\end{align*}
and we have shown that $f$ is absolutely continuous. With this, our proof is complete.
\end{proof}

\section*{Problem 1.8}
\begin{theorem}
If $f$ is of bounded variation on $[a, b]$, and if the function $V(x) = V[a, x]$ is absolutely continuous on $[a, b]$, then $f$ is absolutely continuous on $[a, b]$.
\end{theorem}

\subsection*{Solution}
\begin{proof}
Let $\epsilon > 0$. Since $V(x)$ is absolutely continuous, we have that there exists $\delta > 0$ such that $\sum |V(b_i) - V(a_i)| < \epsilon$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Let $\{[a_i, b_i]\}$ be a collection of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. From Theorem 2.2 (part i) in our textbook, since $f$ is of bounded variation, and $V(x)$ is finite for all $x \in [a, b]$. We have
\begin{align*}
\epsilon &> \sum |V(b_i) - V(a_i)|\\
&= \sum (V[a, b_i] - V[a, a_i])\\
&\geq \sum V[a, b_i]\\
&\geq \sum V[a_i, b_i] &&\text{Theorem 2.2 part i}\\
&\geq \sum |f(b_i) - f(a_i)|,
\end{align*}
and we have proven that $f$ is absolutely continuous.
\end{proof}

\section*{Problem 1.9}
\begin{theorem}
If $f$ is of bounded variation on $[a, b]$, then 
\begin{align*}
\int_a^b |f'| \leq V[a, b].
\end{align*}
Furthermore, if the equality holds in this inequality, then $f$ is absolutely continuous.
\end{theorem}

\subsection*{Solution}
\begin{proof}
Let $N(x)$ and $P(x)$ denote the negative and positive variations of $f$ on $[a, x]$, as in the proof of theorem 2.7 in our textbook. Then, we have
\begin{align*}
f(x) = [P(x) + f(a)] - N(x).
\end{align*}
We note, that $P(x) + f(a)$ and $N(x)$ are increasing functions. Now, we have
\begin{align*}
\int_a^b |f'| &= \int_a^b |P'(x) - N'(x)| dx\\
&\leq \int_a^b P'(x) + \int_a^b N'(x)\\
&\leq P(b) - P(a) + N(b) - N(a) &&\text{By theorem 7.21 in our textbook}\\
&= V(b) - V(a) &&\text{By theorem 2.6 in our textbook}\\
&\leq V(b)\\
&= V[a, b].
\end{align*}

Now, suppose the equality holds. That is, suppose
\begin{align*}
\int_a^b |f'| = V[a, b].
\end{align*}
By theorem 7.24 in our textbook, we have $V'(x) = |f'(x)|$ almost everywhere for $x \in [a, b]$. Thus, we have
\begin{align*}
\int_a^x V'(t) dt &= \int_a^x |f'(t)| dt\\
&= V(x)\\
&= V[a, x]\\
&= V[a, x] + V[a, a] &&\text{By theorem 2.2 ii}\\
&= V(x) - V(a).
\end{align*}
Thus, by theorem 7.29, $V(x)$ is absolutely continuous. By the statement we proved in the previous problem, we can conclude that $f$ is absolutely continuous.
\end{proof}

\section*{Problem 1.10}
\begin{theorem}
\proofpart{(a)}{} If $f$ is absolutely continuous on $[a, b]$ and $Z$ is a subset of $[a, b]$ with measure zero, then the image set defined by $f(Z) = \{w: w = f(z), z \in Z\}$ also has measure zero. Deduce that the image under $f$ of any measurable subset of $[a, b]$ is measurable. (Compare theorem 3.33)(Hint: use the fact that the image of an interval $[a_i, b_i]$ is an interval of length at most $V(b_i) - V(a_i)$.)
\proofpart{(b)}{} Give an example of a strictly increasing Lipschitz continuous function $f$ and a set $Z$ with measure 0 such that $f^{-1}(Z)$ does not have measure 0 (and cosequently, $f^{-1}$ is not absolutely continuous). (Let $f^{-1}(x) = x + C(x)$ on $[0, 1]$, where $C(x)$ is the Cantor-Lebesgue function. 
\end{theorem}

\subsection*{Solution}
Before we jump into the proof, we will prove a usefull lemma.
\begin{lemma}
If $f$ is an absolutely continuous function on $[a, b]$, and $[a_i, b_i] \subseteq [a, b]$, then the image of $[a_i, b_i]$ under $f$ is an interval with $f([a_i, b_i]) \leq V(b_i) - V(a_i)$.
\end{lemma}

\begin{proof}
Since $f$ is continuous, it follows immediately from the intermediate value theorem that $f([a_i, b_i])$ is an interval. By Theorem 7.27 in our textbook, we have that $f$ is of bounded variation. Thus, by theorem 2.2, we have
\begin{align*}
V(b_i) - V(a_i) &= V[a, b_i] - V[a, a_i]\\
&= V[a_i, b_i].
\end{align*}
By the extreme value theorem, there exist $c, d \in [a_i, b_i]$ such that the minimum and maximum values of $f$ on $[a_i, b_i]$ are attained at $c$ and $d$ respectively. Define a partition of $[a_i, b_i]$ by
\begin{align*}
T = \{a_i, c, d, b_i\}.
\end{align*}
Then
\begin{align*}
V[a_i, b_i] &\geq V([a_i, b_i], T)\\
&\geq |f(d) - f(c)|\\
&= |[f(c), f(d)]|
&= |f([a_i, b_i])|,
\end{align*}
and we have proven the lemma.
\end{proof}

Now we are ready for the main proof.
\begin{proof}
\proofpart{(a)}{} Let $\epsilon >0$. Since $f$ is absolutely continuous on $[a, b]$, theorem 7.31 tells us that $V(x)$ is absolutely continuous on $[a, b]$. Thus, there exists a $\delta > 0$ such that $\sum |V(b_i) - V(a_i)| < \epsilon$ for any countable collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Define an open set $G$ such that $[a, b] \subseteq G$, with $|G| < \delta$. Since $G$ is open, by theorem 1.11 in our textbook, there exists a countable collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ whose union is $[a_i, b_i]$. Thus, since $\sum (b_i - a_i) < \delta$, we have
\begin{align*}
\epsilon &> \sum |V(b_i) - V(a_i)|\\
&\geq \sum |f([a_i, bi])| && \text{By Lemma 1}\\
&\geq \left|\bigcup f([a_i, b_i]) \right|\\
&\geq |f(G)|\\
&\geq |f(Z)|.
\end{align*}
Since this is true for all $\epsilon < 0$, we have that $|f(Z)| = 0$, and we have shown that $f$ maps sets of measure zero to sets of measure zero.

Now, let $E$ be any measurable set. Then, we use theorem 3.28 in our textbook write $E = H \cup Z$, where $H$ is a set of type $F_\sigma$ and $Z$ is of measure zero. Since $f(E) = f(H) \cup f(Z)$, we have that $TE$ is the the union of two measurable sets, and is therefore measurable.
\end{proof}

\end{document}