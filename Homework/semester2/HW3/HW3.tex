\documentclass[10pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[a4paper,%
            left=.75in,right=.75in,top=1in,bottom=1in]{geometry}
\setlength{\headsep}{0.25in}

\usepackage{amsthm}

\usepackage{graphicx}
\usepackage{pgfplots}
            
\usepackage[english]{babel}

\theoremstyle{theorem}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{case}{Case}

\usepackage{amsthm}
\usepackage{lipsum}
\usepackage{tikz}

\makeatletter
\newcommand{\proofpart}[2]{%
  \par
  \addvspace{\medskipamount}%
  \noindent\emph{Part #1: #2}\par\nobreak
  \addvspace{\smallskipamount}%
  \@afterheading
}
\makeatother

\newcommand\restr[2]{{% we make the whole thing an ordinary symbol
  \left.\kern-\nulldelimiterspace % automatically resize the bar with \right
  #1 % the function
  \vphantom{\big|} % pretend it's a little taller at normal size
  \right|_{#2} % this is the delimiter
  }}

\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{remark}{Remark}

\usepackage{mathtools}
\DeclarePairedDelimiter\bra{\langle}{\rvert}
\DeclarePairedDelimiter\ket{\lvert}{\rangle}
\DeclarePairedDelimiterX\braket[2]{\langle}{\rangle}{#1 \delimsize\vert #2}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{fancyhdr}
\usepackage{tkz-euclide}

\DeclareMathOperator{\interior}{int}

\newcommand{\Tau}{\mathcal{T}}

\newenvironment{amatrix}[1]{%
  \left(\begin{array}{@{}*{#1}{c}|c@{}}
}{%
  \end{array}\right)
}

\usepackage{calligra}
\DeclareMathAlphabet{\mathcalligra}{T1}{calligra}{m}{n}
\DeclareFontShape{T1}{calligra}{m}{n}{<->s*[2.2]callig15}{}

\newcommand{\scripty}[1]{\ensuremath{\mathcalligra{#1}}}

\pagestyle{fancy}
\author{Jeremiah Givens}
\newcommand{\subject}{Real Analysis II}
\newcommand{\Date}{9/2/2021} 
\makeatletter
\rhead{{\small\@author}}
\lhead{{\small\subject}}
\chead{{\large Homework 1}}
\cfoot{}
\rfoot{\thepage}
\lfoot{\today}

\renewcommand{\theequation}{\arabic{equation}}

\begin{document}
\section*{Problem 1.6}
\begin{theorem}
Let $\alpha > 0$. Then $f(x) = x^\alpha$ is absolutely continuous on every subinterval $[a, b] \subseteq [0, \infty)$.
\end{theorem}

\subsection*{Solution}
\begin{proof}
We have that $f$ is differentiable on $(0, \infty)$ with derivative
\begin{align*}
f'(x) = \alpha x^{\alpha - 1}.
\end{align*}
Thus, $f$ is differentiable almost everywhere on $[0, \infty)$. Now, let $[a, b] \subseteq [0, \infty)$. Since $f'$ is continuous a.e. on $[a, b]$, $f'$ is integrable on $[a, b]$. Furthermore, we have for any $x \in [a, b]$,
\begin{align*}
\int_a^x f'(x) dx &= \int_a^x \alpha x^{\alpha - 1} dx\\
&= \left. \alpha x^{\alpha} \right|_a^x\\
&= b^\alpha - x^\alpha\\
&= f(x) - f(a).
\end{align*}
Thus, by theorem 7.29 in our textbook, we have that $f$ is absolutely continuous on any subinterval of $[0, \infty)$.
\end{proof}

\section*{Problem 1.7}
\begin{theorem}
A function $f$ is absolutely continuous on $[a, b]$ if and only if given $\epsilon > 0$, there exists $\delta > 0$ such that $|\sum [f(b_i) - f(a_i)]| < \epsilon$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$.
\end{theorem}

\subsection*{Solution}
\begin{proof}
Suppose $f$ is absolutely continuous on $[a, b]$, and let $\epsilon > 0$. Since $f$ is absolutely continuous, there exists a $\delta > 0$ such that $\sum |[f(b_i) - f(a_i)]| < \epsilon$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Thus, if we let $\{[a_i, b_i]\}$ be a set of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$, we have
\begin{align*}
\epsilon &> \sum |[f(b_i) - f(a_i)]|\\
&\geq |\sum [f(b_i) - f(a_i)]|, &&\text{Basic property of absolute value}
\end{align*}
and we have proven the forward direction.

Now, suppose that if we are given $\epsilon > 0$, there exists $\delta > 0$ such that $|\sum [f(b_i) - f(a_i)]| < \epsilon$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Let $\epsilon > 0$, and choose $\delta > 0$ such that $|\sum [f(b_i) - f(a_i)]| < \frac{\epsilon}{2}$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Let $\{[a_i, b_i]\}$ be a set of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. We have
\begin{align*}
\sum_{i \in \{i: f(b_i) \geq f(a_i)\}} (b_i - a_i) < \delta,
\end{align*}
which means that 
\begin{align*}
\frac{\epsilon}{2} &> \left|\sum_ {i \in \{i: f(b_i) \geq f(a_i)\}}[f(b_i) - f(a_i)]\right|\\
&= \sum_{i \in \{i: f(b_i) \geq f(a_i)\}}|f(b_i) - f(a_i)|.
\end{align*}
Similarly, we have
\begin{align*}
\sum_{i \in \{i: f(b_i) < f(a_i)\}} (b_i - a_i) < \delta,
\end{align*}
which implies
\begin{align*}
\frac{\epsilon}{2} &> \left|\sum_{i \in \{i: f(b_i) < f(a_i)\}}[f(b_i) - f(a_i)]\right|\\
&= \sum_ {i \in \{i: f(b_i) < f(a_i)\}}|f(b_i) - f(a_i)|.
\end{align*}
Finally, we have
\begin{align*}
\sum_ {i}|f(b_i) - f(a_i)| &= \sum_ {i \in \{i: f(b_i) < f(a_i)\}}|f(b_i) - f(a_i)| + \sum_ {i \in \{i: f(b_i) \geq f(a_i)\}}|f(b_i) - f(a_i)|\\
&\leq \frac{\epsilon}{2} + \frac{\epsilon}{2}\\
&= \epsilon,
\end{align*}
and we have shown that $f$ is absolutely continuous. With this, our proof is complete.
\end{proof}

\section*{Problem 1.8}
\begin{theorem}
If $f$ is of bounded variation on $[a, b]$, and if the function $V(x) = V[a, x]$ is absolutely continuous on $[a, b]$, then $f$ is absolutely continuous on $[a, b]$.
\end{theorem}

\subsection*{Solution}
\begin{proof}
Let $\epsilon > 0$. Since $V(x)$ is absolutely continuous, we have that there exists $\delta > 0$ such that $\sum |V(b_i) - V(a_i)| < \epsilon$ for any finite collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Let $\{[a_i, b_i]\}$ be a collection of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. From Theorem 2.2 (part i) in our textbook, since $f$ is of bounded variation, and $V(x)$ is finite for all $x \in [a, b]$. We have
\begin{align*}
\epsilon &> \sum |V(b_i) - V(a_i)|\\
&= \sum (V[a, b_i] - V[a, a_i])\\
&\geq \sum V[a, b_i]\\
&\geq \sum V[a_i, b_i] &&\text{Theorem 2.2 part i}\\
&\geq \sum |f(b_i) - f(a_i)|,
\end{align*}
and we have proven that $f$ is absolutely continuous.
\end{proof}

\section*{Problem 1.9}
\begin{theorem}
If $f$ is of bounded variation on $[a, b]$, then 
\begin{align*}
\int_a^b |f'| \leq V[a, b].
\end{align*}
Furthermore, if the equality holds in this inequality, then $f$ is absolutely continuous.
\end{theorem}

\subsection*{Solution}
\begin{proof}
Let $N(x)$ and $P(x)$ denote the negative and positive variations of $f$ on $[a, x]$, as in the proof of theorem 2.7 in our textbook. Then, we have
\begin{align*}
f(x) = [P(x) + f(a)] - N(x).
\end{align*}
We note, that $P(x) + f(a)$ and $N(x)$ are increasing functions. Now, we have
\begin{align*}
\int_a^b |f'| &= \int_a^b |P'(x) - N'(x)| dx\\
&\leq \int_a^b P'(x) + \int_a^b N'(x)\\
&\leq P(b) - P(a) + N(b) - N(a) &&\text{By theorem 7.21 in our textbook}\\
&= V(b) - V(a) &&\text{By theorem 2.6 in our textbook}\\
&\leq V(b)\\
&= V[a, b].
\end{align*}

Now, suppose the equality holds. That is, suppose
\begin{align*}
\int_a^b |f'| = V[a, b].
\end{align*}
By theorem 7.24 in our textbook, we have $V'(x) = |f'(x)|$ almost everywhere for $x \in [a, b]$. Thus, we have
\begin{align*}
\int_a^x V'(t) dt &= \int_a^x |f'(t)| dt\\
&= V(x)\\
&= V[a, x]\\
&= V[a, x] + V[a, a] &&\text{By theorem 2.2 ii}\\
&= V(x) - V(a).
\end{align*}
Thus, by theorem 7.29, $V(x)$ is absolutely continuous. By the statement we proved in the previous problem, we can conclude that $f$ is absolutely continuous.
\end{proof}

\section*{Problem 1.10}
\begin{theorem}
\proofpart{(a)}{} If $f$ is absolutely continuous on $[a, b]$ and $Z$ is a subset of $[a, b]$ with measure zero, then the image set defined by $f(Z) = \{w: w = f(z), z \in Z\}$ also has measure zero. Deduce that the image under $f$ of any measurable subset of $[a, b]$ is measurable. (Compare theorem 3.33)(Hint: use the fact that the image of an interval $[a_i, b_i]$ is an interval of length at most $V(b_i) - V(a_i)$.)
\proofpart{(b)}{} Give an example of a strictly increasing Lipschitz continuous function $f$ and a set $Z$ with measure 0 such that $f^{-1}(Z)$ does not have measure 0 (and cosequently, $f^{-1}$ is not absolutely continuous). (Let $f^{-1}(x) = x + C(x)$ on $[0, 1]$, where $C(x)$ is the Cantor-Lebesgue function. 
\end{theorem}

\subsection*{Solution}
Before we jump into the proof, we will prove a usefull lemma.
\begin{lemma}
If $f$ is an absolutely continuous function on $[a, b]$, and $[a_i, b_i] \subseteq [a, b]$, then the image of $[a_i, b_i]$ under $f$ is an interval with $f([a_i, b_i]) \leq V(b_i) - V(a_i)$.
\end{lemma}

\begin{proof}
Since $f$ is continuous, it follows immediately from the intermediate value theorem that $f([a_i, b_i])$ is an interval. By Theorem 7.27 in our textbook, we have that $f$ is of bounded variation. Thus, by theorem 2.2, we have
\begin{align*}
V(b_i) - V(a_i) &= V[a, b_i] - V[a, a_i]\\
&= V[a_i, b_i].
\end{align*}
By the extreme value theorem, there exist $c, d \in [a_i, b_i]$ such that the minimum and maximum values of $f$ on $[a_i, b_i]$ are attained at $c$ and $d$ respectively. Define a partition of $[a_i, b_i]$ by
\begin{align*}
T = \{a_i, c, d, b_i\}.
\end{align*}
Then
\begin{align*}
V[a_i, b_i] &\geq V([a_i, b_i], T)\\
&\geq |f(d) - f(c)|\\
&= |[f(c), f(d)]|
&= |f([a_i, b_i])|,
\end{align*}
and we have proven the lemma.
\end{proof}

Now we are ready for the main proof.
\begin{proof}
\proofpart{(a)}{} Let $\epsilon >0$. Since $f$ is absolutely continuous on $[a, b]$, theorem 7.31 tells us that $V(x)$ is absolutely continuous on $[a, b]$. Thus, there exists a $\delta > 0$ such that $\sum |V(b_i) - V(a_i)| < \epsilon$ for any countable collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta$. Define an open set $G$ such that $[a, b] \subseteq G$, with $|G| < \delta$. Since $G$ is open, by theorem 1.11 in our textbook, there exists a countable collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a, b]$ whose union is $[a_i, b_i]$. Thus, since $\sum (b_i - a_i) < \delta$, we have
\begin{align*}
\epsilon &> \sum |V(b_i) - V(a_i)|\\
&\geq \sum |f([a_i, bi])| && \text{By Lemma 1}\\
&\geq \left|\bigcup f([a_i, b_i]) \right|\\
&\geq |f(G)|\\
&\geq |f(Z)|.
\end{align*}
Since this is true for all $\epsilon < 0$, we have that $|f(Z)| = 0$, and we have shown that $f$ maps sets of measure zero to sets of measure zero.

Now, let $E$ be any measurable set. Then, we use theorem 3.28 in our textbook write $E = H \cup Z$, where $H$ is a set of type $F_\sigma$ and $Z$ is of measure zero. Since $f(E) = f(H) \cup f(Z)$, we have that $TE$ is the the union of two measurable sets, and is therefore measurable.

\proofpart{(b)}{} Let $g:[0, 1] \to [0, 2]$ be defined by
\begin{align*}
g(x) = x + C(x),
\end{align*}
where $C:[0, 1] \to [0, 1]$ is the Cantor Lebesgue function. This function is injective, thus it's inverse function $f:[0, 2] \to [0, 1]$ is well defined. Since $g$ is strictly increasing, we have that $f$ is strictly increasing. We will first show that $f$ is Lipschitz continuous. Let $x, y \in [0, 2]$ with $x < y$. Then, we have
\begin{align*}
\left|\frac{y - x}{f(y) - f(x)} \right| &= \frac{y - x}{f(y) - f(x)} &&\text{Since } f \text{ is increasing}\\
&= \frac{g(f(y)) - g(f(x))}{f(y) - f(x)}\\
&= \frac{f(y) - f(x)}{f(y) - f(x)} + \frac{C(f(y)) - C(f(x))}{f(y) - f(x)}\\
&= 1 + \frac{C(f(y)) - C(f(x))}{f(y) - f(x)}\\
&\geq 1 &&\text{Since the Cantor Lebesgue function is non decreasing.}
\end{align*}
Thus, we have
\begin{align*}
|f(y) - f(x)| \leq |y - x|,
\end{align*}
and we can conclude $f$ is  Lipschitz continuous.

Now, let $\mathcal{C}$ be the Cantor set, and consider the set $[0, 1]\backslash \mathcal{C}$. We have that $[0, 1]\backslash \mathcal{C}$ is the sum of countably many disjoint intervals $\{I_i\}$, and $C$ is constant on each one of these intervals. Let $C(x) = c_i$ for $x \in I_i$. Then, we have
\begin{align*}
g(I_i) = \{x + c_i: x \in I_i \}.
\end{align*}
Thus, by translation invariance of the lebesgue outer measure, we have
\begin{align*}
|g(I_i)|_e &= |I_i|.
\end{align*}
With this, we have
\begin{align*}
|g([0, 1]\backslash \mathcal{C})|_e &= \left| g \left(\bigcup I_i \right) \right|\\
&= \left| \bigcup g(I_i) \right|_e\\
&= \sum_{i=1}^\infty |g(I_i)|_e\\
&= 1.
\end{align*}
Now, we know that $|\mathcal{C}| = 0$. Furthermore, we have $g([0, 1]) = [0, 2]$. Finally, we have
\begin{align*}
g([0, 1]) = g(\mathcal{C}) \cup g([0, 1]\backslash \mathcal{C}),
\end{align*}
and by theorem 3.34 in our textbook, we can conclude that $|g(\mathcal{C})| = 1$.
\end{proof}

\section*{Problem 2}
\begin{theorem}
Let $f:[a, b] \to \mathbb{R}$ be monotone, and suppose $f'(x)$ exists and is finite at every $x \in [a, b]$. Then $f$ is absolutely continuous. 
\end{theorem}

\subsection*{Solution}
\begin{proof}
Proof is under development.
\end{proof}

\section*{Problem 3}
\begin{theorem}
A function $f:[a, b] \to \mathbb{R}$ is Lipschitz continuous on $[a, b]$ if and only if $f$ is an indefinite integral of a bounded measurable function on $[a, b]$.
\end{theorem}

\subsection*{Solution}
We will start with a useful lemma.
\begin{lemma}
Let $f:[a, b] \to \mathbb{R}$ be Lipschitz continuous on $[a, b]$. Then, the derivative of $f$ is bounded.
\end{lemma}

\begin{proof}
Since $f$ is Lipschitz continuous on $[a, b]$, there exists an $M > 0$ such that for all $x, h \in [a, b]$, where $f'(x)$ exists and $x + h \in [a, b]$, we have
\begin{align*}
|f(x + h) - f(x)| \leq M |h| &\implies \left| \frac{f(x+h) - f(x)}{h} \right| \leq M.
\end{align*}
Taking the limit as $h \to 0$, we have that $f'(x) \leq M$, and we have proven the lemma.
\end{proof}

Now we are ready to prove the main theorem.
\begin{proof}
Suppose that $f$ is Lipschitz continuous on $[a, b]$. Then, $f$ is absolutely continuous, and by theorem 7.29 in our textbook that
\begin{align*}
f(x) - f(a) = \int_a^x f' &\implies f(x) = \int_a^x f' + f(a)\\
&\implies f(x) = \int_a^x \left(f' + \frac{f(a)}{x - a}\right).
\end{align*}
Thus, combining this with the results of Lemma 2, we have shown that $f$ is an indefinite integral of a bounded measurable function on $[a, b]$.

Now, suppose that $f$ is the indefinite integral of a bounded measurable function $F$. That is, suppose
\begin{align*}
f(x) &= \int_a^x F,
\end{align*}
for some function where $|F| \leq M$ for some $M > 0$. Then, for any $a_i < b_i \in [a, b]$, we have
\begin{align*}
|f(b_i) - f(a_i)| &= \left|\int_a^{b_i} F - \int_a^{a_i} F \right|\\
&= \left|\int_{a_i}^{b_i} F \right|\\
&\leq \int_a^{b_i} |F|\\
&= M(b_i - a_i).
\end{align*}
Thus, $f$ is Lipschitz continuous, and our proof is complete.
\end{proof}

\section*{Problem 4}
\begin{theorem}
Show that if $f[a, b] \to \mathbb{R}$ is continuous, and $|D^+ f(x)| < M$ for all $x \in [a, b]$, where
\begin{align*}
D^+ f(x) = \lim_{h \searrow 0} \frac{f(x + h) - f(x)}{h},
\end{align*}
then $f$ satisfies a Lipschitz condition on $[a, b]$.
\end{theorem}

\subsection*{Solution}
\begin{proof}
Define $g(x) = f(x) + Mx$, and $h(x) = f(x) - Mx$. Then for all $x \in [a, b]$, we have
\begin{align*}
D^+ g(x) &= D^+ f(x) + M\\
&> 0,
\end{align*}
and
\begin{align*}
D^+ h(x) &= D^+ f(x) - M\\
&< 0.
\end{align*}
Let $x_0 \in [a, b)$, and suppose for each $n \in \mathbb{N}$, that we can find an $x_n \in [x_0, x_0 + 1/n)$ such that $f(x_n) < f(x_0)$. Then, we have
\begin{align*}
\lim_{n \to \infty} \frac{f(x_n) - f(x_0)}{x_n - x_0} \leq 0
\end{align*}
which contradicts our assumption that $D^+ g(x_0) > 0$. Thus, for each $x \in [a, b)$, there exists a $\delta > 0$ such that $g$ is increasing on $[x, x + \delta)$.

Suppose now that there exist $x < y \in [a, b]$ such that $g(x) > g(y)$. Define
\begin{align*}
w = \inf \{z \in [x, y]: g(z) < g(x) \}.
\end{align*}
Then, by definition of an infimum, we have for all $\epsilon > 0$, 
\begin{align*}
f(x) \leq f(w - \epsilon).
\end{align*}
Thus, by continuity of $g$, we have that $g(x) = g(w)$. However, by definition of an infimum, we have that for all $n \in \mathbb{N}$, there exists $x_n [w, w + 1/n)$ such that $g(x_n) < g(x)$, which contradicts the fact that $g$ is locally increasing at $w$. Therefore, we can conclude that $g$ is increasing on $[a, b]$. A similar argument allows us to conclude that $h$ is decreasing on $[a, b]$.

Now, let $x < y \in [a, b]$. Then,
\begin{align*}
g(x) \leq g(y) &\implies f(x) + Mx \leq f(y) + My\\
&\implies f(x) - f(y) \leq M(y - x),
\end{align*}
and
\begin{align*}
h(y) \leq h(x) &\implies f(y) - My \leq f(x) - Mx\\
&\implies f(y) - f(x) \leq M(y - x).
\end{align*}
Thus, we have
\begin{align*}
|f(y) - f(x)| \leq M|x - y|,
\end{align*}
and we have shown that $f$ is Lipschitz continuous.
\end{proof}

\section*{Problem 5} 
\begin{theorem}
A function $f:[a, b] \to \mathbb{R}$ satisfies a Lipschitz condition if and only if for all $\epsilon > 0$, there exists a $\delta > 0$, such that any finite collection of intervals $\{[a_i, b_i] \}_{i=1}^n$ in $[a, b]$ (which are not necessarily nonoverlapping) satisfying 
\begin{align*}
\sum_{i=1}^n (b_i - a_i) < \delta,
\end{align*}
it holds that 
\begin{align*}
\left|\sum_{i=1}^n (f(b_i) - f(a_i))\right| < \epsilon.
\end{align*}
\end{theorem}

\subsection*{Solution}
\begin{proof}
Suppose that $f$ is Lipschitz continuous with Lipschitz constant $M$. Let $\epsilon > 0$, and define $\delta = \epsilon / M$. Then, for any finite collection of intervals $\{[a_i, b_i] \}_{i=1}^n$ in $[a, b]$ satisfying 
\begin{align*}
\sum_{i=1}^n (b_i - a_i) < \delta,
\end{align*}
we have
\begin{align*}
\left|\sum_{i=1}^n (f(b_i) - f(a_i))\right| &\leq \sum_{i=1}^n |f(b_i) - f(a_i)|\\
&\leq \sum_{i=1}^n M|b_i - a_i|\\
&= M \sum_{i=1}^n |b_i - a_i|\\
&< M \delta\\
&= M \frac{\epsilon}{M}\\
&= \epsilon.
\end{align*}
Thus, we have proven the forward direction.

Now we will prove the other direction by contrapositive. Suppose $f$ is not Lipschitz continuous. Then, for any $\epsilon > 0$, there exists two points $x < y \in [a, b]$ such that 
\begin{align*}
|f(y) - f(x)| > \frac{1}{\epsilon}|x - y|.
\end{align*}
Fix an $\epsilon > 0$ and the corresponding $x,y$. Suppose first that $|y - x| < \epsilon$. Then, choose $n \in \mathbb{N}$ such that 
\begin{align*}
\frac{\epsilon}{2} \leq n |y - x| < \epsilon.
\end{align*}
With this, we have
\begin{align*}
\frac{\epsilon}{2} \leq \sum_{i=1}^n (y - x) < \epsilon,
\end{align*}
and
\begin{align*}
\sum_{i=1}^n |f(y) - f(x)| &\geq \sum_{i=1}^n \frac{1}{\epsilon}|y - x|\\
&= \frac{1}{\epsilon} \sum_{i=1}^n (y - x)\\
&\geq \frac{1}{\epsilon} \cdot \frac{\epsilon}{2}\\
&= \frac{1}{2}.
\end{align*}

Now suppose $|y - x| \geq \epsilon$. We will break $[x, y]$ into $n$ subintervals $[x_i, y_i]$ of equal length, satisfying
\begin{align*}
\frac{\epsilon}{2} \leq \frac{y - x}{n} < \epsilon.
\end{align*}
Suppose, for sake of contradiction, that for all $i$, we have $|f(y_i) - f(x_i)| \leq \frac{1}{\epsilon}|y_i - x_i|$. Then, by the triangle inequality, we have
\begin{align*}
|f(y) - f(x)| &\leq \sum_{i=1}^n |f(y_i) - f(x_i)|\\
&\leq \sum_{i=1}^n \frac{1}{\epsilon}|y_i - x_i|\\
&\leq \frac{1}{\epsilon}|y - x|,
\end{align*}
which is a contradiction. Thus, for some $I \in \{1, ..., n\}$, we have
\begin{align*}
|f(y_I) - f(x_I)| > \frac{1}{\epsilon}|y_I - x_I|.
\end{align*}
Then, we have
\begin{align*}
\frac{\epsilon}{2} \leq \sum_{i=1}^n (y_I - x_I) < \epsilon,
\end{align*}
and
\begin{align*}
\sum_{i=1}^n |f(y_I) - f(x_I)| &\geq \sum_{i=1}^n \frac{1}{\epsilon}|y_I - x_I|\\
&= \frac{1}{\epsilon} \sum_{i=1}^n (y_I - x_I)\\
&\geq \frac{1}{\epsilon} \cdot \frac{\epsilon}{2}\\
&= \frac{1}{2}.
\end{align*}
With this, our proof is complete.
\end{proof}

\section*{Problem 6}
Use the function 
\[   f(x) = \left\{
\begin{array}{ll}
      x \sin \frac{1}{x} & \text{if } x \in (0, \pi] \\
      0 & \text{if } x = 0\\
\end{array} 
\right. \]
to show that the following statement is not true: If $f:[a, b] \to \mathbb{R}$ is absolutely continuous on $[a + \epsilon, b]$ for any small $\epsilon > 0$, and $f$ is continuous on $[a, b]$, then $f$ is absolutely continuous on $[a, b]$.

\subsection*{Solution}
For any small $\epsilon > 0$, we have for all $x \in [\epsilon, \pi]$,
\begin{align*}
|f'(x)| &= \left| \sin \frac{1}{x} - \frac{\cos\frac{1}{x}}{x} \right|\\
&\leq \left| \sin \frac{1}{x} \right| + \left| \frac{\cos\frac{1}{x}}{x} \right|\\
&\leq 1 + \frac{1}{\epsilon}.
\end{align*}
Thus, since $f'(x)$ is bounded on $x \in [\epsilon, \pi]$, an easy argument using the mean value theorem allows us to conclude that $f$ is Lipschitz continuous, and therefore absolutely continuous.

Now, let $\delta > 0$. Choose $n \in \mathbb{N}$ large enough that $\frac{2}{\pi (1 + 2n)} < \delta$, and define $x_i = \frac{2}{\pi (1 + 2i)}$ for $i \geq n$. Then, we have $\{[x_i, x_{i-1}] \}_{i=n + 1}^\infty$ is a set of nonoverlapping subintervals of $[0, \pi]$ such that $\sum_{i= n + 1}^\infty (x_i - x_{i-1}) < \delta$. Furthermore, since 
\begin{align*}
\frac{1}{x_i} = \frac{\pi}{2} + i \pi,
\end{align*}
we have that $f(x_i)$ alternates between $1$ and $-1$. Assume, without loss of generality, that $f(x_n) = -1$. Then, we have
\begin{align*}
\sum_{i=n + 1}^\infty |f(x_i) - f(x_{i-1})| &= \sum_{i=n + 1}^\infty |x_i + x_{i-1}|\\
&= \sum_{i=n + 1}^\infty \left(\frac{2}{\pi (1 + 2i)} + \frac{2}{\pi (1 + 2(i-1))} \right)\\
&= \frac{2}{\pi} \sum_{i=n + 1}^\infty \left(\frac{1}{1 + 2i} + \frac{1}{2i - 1} \right)\\
&= \frac{2}{\pi} \sum_{i=n + 1}^\infty \frac{2i - 1 + 2i + 1}{(1 + 2i)(2i - 1)} \\
&= \frac{2}{\pi} \sum_{i=n + 1}^\infty \frac{4i}{4i^2 - 1} \\
&\geq \frac{2}{\pi} \sum_{i=n + 1}^\infty \frac{4i}{4i^2} \\
&= \frac{2}{\pi} \sum_{i=n + 1}^\infty \frac{1}{i}\\
&= \infty && \text{Harmonic series does not converge}.
\end{align*}
Since this is true for any $\delta > 0$, we can conclude that $f$ is not absolutely continuous (or even of bounded variation) on $[0, \pi]$.

\section*{Problem 7}
\begin{theorem}
If $f:[a, b] \to \mathbb{R}$ is continuous, $f \in BV[a, b]$, and $f \in AC[a + \epsilon, b]$ for any small $\epsilon > 0$, then $f \in AC[a, b]$.
\end{theorem}

\subsection*{Solution}
To prove this theorem, we will invoke a rather useful lemma.
\begin{lemma}
Let $f[a, b] \to \mathbb{R}$ be continuous, and of bounded variation. Then, $V(x)$ is continuous.
\end{lemma}

\begin{proof}
Let $x_0 \in [a, b]$, and let $\epsilon > 0$. Define a partition $T = \{x_0 < x_1 <...< x_n = b\}$ of $[x_0, b]$ such that 
\begin{align*}
V[x_0, b] \leq V(f, T) + \epsilon/2.
\end{align*} 
Since $f$ is continuous, there exists some $\delta_1 > 0$ such that for all $|f(x_0) - f(x)| < \epsilon/2$ if $|x - x_0| < \delta_1$. Define $\delta = \min\{\delta_1, x_1 - x_0\}$. Then,
\begin{align*}
V(b) - V(x_0) &= V[x_0, b] &&\text{By theorem 2.2 in our textbook}\\
&\leq V(f, T) + \epsilon/2\\
&= \sum_{i=1}^n |f(x_i) - f(x_{i-1})| + \epsilon/2\\
&= |f(x_1) - f(x_{0})| + \sum_{i=2}^n |f(x_i) - f(x_{i-1})| + \epsilon/2\\
&\leq |f(x_0) - f(x)| + |f(x_1) - f(x)| + \sum_{i=2}^n |f(x_i) - f(x_{i-1})| + \epsilon/2\\
&< \epsilon/2 + V[x, b] + \epsilon/2\\
&= \epsilon + V(b) - V(x).
\end{align*}
Thus, we can conclude that $V(x) - V(x_0) < \epsilon$. Thus, it follows that $V(x)$ is continuous.
\end{proof}

Now we are ready to prove the main theorem.
\begin{proof}
Let $\epsilon > 0$. Since $f$ is continuous, $V(x) = V[a, x]$ is continuous for all $x \in [a, b]$. Thus, there exists a $\delta_1 > 0$ such that $V(a + \delta_1) < \epsilon/2$. Furthermore, since $f$ is of bounded variation, on $[a + \delta_1, b]$, there exists a $\delta_2 > 0$ such that $\sum |f(b_i) - f(a_i)| < \epsilon/2$ for any countable collection $\{[a_i, b_i]\}$ of nonoverlapping subintervals of $[a + \delta_1, b]$ with $\sum (b_i - a_i) < \delta_2$.

Now, let $\{[a_i, b_i]\}$ be a set of nonoverlapping subintervals of $[a, b]$ with $\sum (b_i - a_i) < \delta_2$. Assume, without loss of generality, that there is a single interval $[a_n, b_n]$ such that $a_n < a + \delta_1 < b_n$. Let $L = \{i: [a_i, b_i] \subseteq [a, a + \delta_1]\}$ and let $R = \{i: [a_i, b_i] \subseteq [a + \delta_1, b]\}$. Then, we have
\begin{align*}
\sum_{i}|f(b_i) - f(a_i)| &= \sum_{i \in L} |f(b_i) - f(a_i)| + \sum_{i \in R} |f(b_i) - f(a_i)| + |f(b_n) - f(a_n)|\\
&\leq \sum_{i \in L} |f(b_i) - f(a_i)| + \sum_{i \in R} |f(b_i) - f(a_i)| + |f(b_n) - f(a + \delta_1)| + |f(a + \delta_1) - f(a_n)|\\
&= \left(\sum_{i \in L} |f(b_i) - f(a_i)| + |f(a + \delta_1) - f(a_n)|\right) + \left( \sum_{i \in R} |f(b_i) - f(a_i)| + |f(b_n) - f(a + \delta_1)|\right)\\
&< V(a + \delta_1) + \frac{\epsilon}{2} \text{, Left hand points can extend to a partition of } [a, a + \delta_1]\\
&< \frac{\epsilon}{2} + \frac{\epsilon}{2}\\
&= \epsilon.
\end{align*}
Thus, we have proven that $f$ is absolutely continuous on $[a, b]$.
\end{proof}
\end{document}